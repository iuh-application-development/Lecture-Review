{% extends 'base.html' %} {% block content %}
{% include 'shared_modal.html' %}
<div class="content flex-grow-1">
    <div class="container-fluid py-4">
        <div class="row g-4 justify-content-center">
            <!-- My Notes Section -->
            <div class="col-12 col-lg-6 d-flex flex-column">
                <div class="d-flex justify-content-between align-items-center mb-3 ps-1 pe-1 pt-2">
                    <h4 class="fw-bold m-0"><i class="bi bi-journal-text me-2"></i>Recent Notes</h4>
                    <div class="d-flex align-items-center gap-2">
                        <a href="/create-note" class="btn btn-dark create-note-btn-rect d-flex align-items-center gap-2 px-3 py-2" title="Tạo ghi chú mới">
                            <i class="bi bi-plus-lg"></i> <span class="d-none d-md-inline">Create Note</span>
                        </a>
                        <a href="/all-my-notes" class="btn btn-link text-decoration-none fw-semibold">
                            View All <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div id="myNotesContainer" class="dashboard-container notes-grid flex-grow-1 px-1" data-limit="6">
                    <!-- Notes sẽ được load ở đây -->
                </div>
                <div id="emptyMyNotes" class="d-flex flex-column align-items-center justify-content-center text-center p-4 d-none" style="min-height:180px;">
                    <i class="bi bi-journal-x display-3 text-secondary mb-2"></i>
                    <h5 class="fw-semibold">No Notes Yet</h5>
                    <p class="text-muted">Create your first note to get started!</p>
                    <a href="/create-note" class="btn btn-warning mt-2 px-4 py-2 rounded-pill">
                        <i class="bi bi-plus-lg"></i> Create Note
                    </a>
                </div>
            </div>
            <!-- Shared With Me Section -->
            <div class="col-12 col-lg-6 d-flex flex-column">
                <div class="d-flex justify-content-between align-items-center mb-3 ps-1 pe-1 pt-2">
                    <h4 class="fw-bold m-0"><i class="bi bi-share me-2"></i>Shared With Me</h4>
                    <a href="/share-with-me" class="btn btn-link text-decoration-none fw-semibold">
                        View All <i class="bi bi-arrow-right"></i>
                    </a>
                </div>
                <div id="sharedNotesContainer" class="dashboard-shared-container notes-grid flex-grow-1 px-1" data-limit="6" data-by-me="0">
                    <!-- Notes sẽ được load ở đây -->
                </div>
                <div id="emptySharedNotes" class="d-flex flex-column align-items-center justify-content-center text-center p-4 d-none" style="min-height:180px;">
                    <i class="bi bi-emoji-frown display-3 text-secondary mb-2"></i>
                    <h5 class="fw-semibold">No Shared Notes</h5>
                    <p class="text-muted">Notes shared with you will appear here</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block load_js %}
<script src="{{ url_for('static', filename='js/note_functions.js') }}"></script>
<script>
    // Initialize tooltips
    document.addEventListener('DOMContentLoaded', function() {
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });
    });
</script>
{% endblock load_js %}
